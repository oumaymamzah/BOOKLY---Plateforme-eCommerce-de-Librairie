{% extends 'base.html.twig' %}

{% block title %}Panier d'Achat{% endblock %}

{% block body %}
<section id="page-header" class="padding-large" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); height: 250px; display: flex; align-items: center;">
  <div class="container">
    <div class="row">
      <div class="col-md-12 text-center">
        <div class="mb-3">
          <svg width="60" height="60" fill="white" viewBox="0 0 16 16">
            <path d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 10.5H5a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l.5 2H5V5H3.14zM6 5v2h2V5H6zm3 0v2h2V5H9zm3 0v2h1.36l.5-2H12zm1.11 3H12v2h.61l.5-2zM11 8H9v2h2V8zm-2 0H6v2h2V8zm-2 0H3.89l.5 2H5V8zm0 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm1 1a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"/>
          </svg>
        </div>
        <h1 class="display-5 text-white fw-bold mb-2">ðŸ›’ Votre Panier d'Achat</h1>
        <p class="lead text-white-50 mb-0">VÃ©rifiez vos sÃ©lections et procÃ©dez au paiement</p>
        <div class="mt-3">
          <span class="badge bg-light text-dark fs-6 px-3 py-2">
            <svg width="16" height="16" fill="currentColor" class="me-1" viewBox="0 0 16 16">
              <path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>
              <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"/>
            </svg>
            Paiement SÃ©curisÃ©
          </span>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="padding-large">
  <div class="container">
    {% for message in app.flashes('success') %}
      <div class="alert alert-success">{{ message }}</div>
    {% endfor %}
    {% if items is empty %}
      <div class="text-center py-5">
        <div class="mb-4">
          <svg width="80" height="80" fill="#6c757d" viewBox="0 0 16 16">
            <path d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 10.5H5a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l.5 2H5V5H3.14zM6 5v2h2V5H6zm3 0v2h2V5H9zm3 0v2h1.36l.5-2H12zm1.11 3H12v2h.61l.5-2zM11 8H9v2h2V8zm-2 0H6v2h2V8zm-2 0H3.89l.5 2H5V8zm0 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm1 1a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"/>
          </svg>
        </div>
        <h3 class="text-muted mb-3">Panier vide</h3>
        <p class="lead text-muted mb-4">ðŸ›’ DÃ©couvrez des livres incroyables et commencez Ã  construire votre collection</p>
        <a href="{{ path('app_home') }}" class="btn btn-primary btn-lg px-4 py-2">
          <svg width="18" height="18" fill="currentColor" class="me-2" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
            <path fill-rule="evenodd" d="M4.5 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5z"/>
          </svg>
          Commencer les Achats
        </a>
      </div>
    {% else %}
      <div class="row">
        <div class="col-md-8">
          <div class="card shadow-sm border-0">
            <div class="card-header bg-primary text-white">
              <div class="d-flex align-items-center">
                <svg width="20" height="20" fill="currentColor" class="me-2" viewBox="0 0 16 16">
                  <path d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 10.5H5a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5z"/>
                </svg>
                <h5 class="mb-0">Articles de Votre Panier</h5>
              </div>
            </div>
            <div class="card-body p-4">
              {% for item in items %}
                <div class="row mb-4 align-items-center border-bottom pb-3">
                  <div class="col-md-2">
                    <img src="{% if item.livre.pdfFilename %}{{ asset('uploads/images/' ~ item.livre.pdfFilename) }}{% else %}{{ asset('images/product-item' ~ (loop.index % 12 + 1) ~ '.png') }}{% endif %}" class="img-fluid rounded" alt="product" style="max-height: 80px;">
                  </div>
                  <div class="col-md-4">
                    <h6 class="mb-1">{{ item.livre.titre }}</h6>
                    <small class="text-muted">{{ item.livre.auteurs ? item.livre.auteurs|join(', ') : 'Auteur Inconnu' }}</small>
                  </div>
                  <div class="col-md-2">
                    <span class="fw-bold text-primary">{{ item.livre.prixUnitaire }} DT</span>
                  </div>
                  <div class="col-md-3">
                    <div class="d-flex align-items-center gap-1">
                      <form action="{{ path('app_cart_update', {'id': item.livre.id}) }}" method="post" class="d-flex align-items-center">
                        <input type="number" name="quantity" value="{{ item.quantity }}" min="1" class="form-control form-control-sm me-1" style="width: 60px; font-size: 0.8rem;" title="QuantitÃ©">
                        <button type="submit" class="btn btn-sm btn-outline-success px-2 py-1" style="font-size: 0.75rem;" title="Mettre Ã  jour la quantitÃ©">
                          <svg width="12" height="12" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"/>
                          </svg>
                        </button>
                      </form>
                      <div class="vr mx-1" style="height: 20px;"></div>
                      <a href="{{ path('app_cart_remove', {'id': item.livre.id}) }}" class="btn btn-sm btn-outline-danger px-2 py-1" style="font-size: 0.75rem;" title="Retirer du panier">
                        <svg width="12" height="12" fill="currentColor" viewBox="0 0 16 16">
                          <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
                        </svg>
                      </a>
                    </div>
                  </div>
                  <div class="col-md-1">
                    <span class="fw-bold">{{ item.total }} DT</span>
                  </div>
                </div>
              {% endfor %}

              <!-- Cart Action Buttons -->
              <div class="d-flex justify-content-between align-items-center mt-3">
                <a href="{{ path('app_cart_clear') }}" class="btn btn-outline-warning">
                  <svg width="16" height="16" fill="currentColor" class="me-1" viewBox="0 0 16 16">
                    <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0V6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-1 0"/>
                      </svg>
                      Tout Effacer
                    </a>
                <a href="{{ path('app_home') }}" class="btn btn-outline-primary">
                  <svg width="16" height="16" fill="currentColor" class="me-1" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
                    <path fill-rule="evenodd" d="M4.5 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5z"/>
                  </svg>
                  Continuer les Achats
                </a>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card shadow-sm border-0">
            <div class="card-header bg-success text-white">
              <div class="d-flex align-items-center">
                <svg width="20" height="20" fill="currentColor" class="me-2" viewBox="0 0 16 16">
                  <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
                  <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/>
                </svg>
                <h5 class="mb-0">RÃ©sumÃ© de la Commande</h5>
              </div>
            </div>
            <div class="card-body p-4">
              <div class="d-flex justify-content-between mb-2">
                <span>Sous-total :</span>
                <span>{{ total }} DT</span>
              </div>
              <div class="d-flex justify-content-between mb-2">
                <span>Livraison :</span>
                <span>Gratuite</span>
              </div>
              <hr>
              <div class="d-flex justify-content-between mb-3">
                <strong>Total :</strong>
                <strong class="text-primary fs-5">{{ total }} DT</strong>
              </div>

              <!-- Payment Form -->
              <form action="{{ path('app_cart_checkout') }}" method="post">
                <div class="mb-3">
                  <label for="name" class="form-label">Nom complet</label>
                  <input type="text" class="form-control" id="name" name="name" required>
                </div>
                <div class="mb-3">
                  <label for="email" class="form-label">Email</label>
                  <input type="email" class="form-control" id="email" name="email" required>
                </div>
                <div class="mb-3">
                  <label for="card_number" class="form-label">NumÃ©ro de carte</label>
                  <input type="text" class="form-control" id="card_number" name="card_number" required>
                </div>
                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label for="expiry" class="form-label">Date d'expiration</label>
                    <input type="text" class="form-control" id="expiry" name="expiry" placeholder="MM/YY" required>
                  </div>
                  <div class="col-md-6 mb-3">
                    <label for="cvv" class="form-label">CVV</label>
                    <input type="text" class="form-control" id="cvv" name="cvv" required>
                  </div>
                </div>
                <div class="d-grid gap-2">
                  <button type="submit" class="btn btn-success btn-lg">
                    <svg width="18" height="18" fill="currentColor" class="me-2" viewBox="0 0 16 16">
                      <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2.5 1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-2zm0 3a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 2a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1zm3 0a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1zm3 0a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1zm3 0a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z"/>
                    </svg>
                    Passer la Commande
                  </button>
                  <a href="{{ path('app_home') }}" class="btn btn-outline-primary">
                    <svg width="16" height="16" fill="currentColor" class="me-2" viewBox="0 0 16 16">
                      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
                      <path fill-rule="evenodd" d="M4.5 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5z"/>
                    </svg>
                    Continuer les Achats
                  </a>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    {% endif %}
  </div>
</section>

<!-- Success Modal -->
{% if app.flashes('order_success') is not empty %}
<div class="modal fade" id="orderSuccessModal" tabindex="-1" aria-labelledby="orderSuccessModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="orderSuccessModalLabel">Commande RÃ©ussie</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        {% for message in app.flashes('order_success') %}
        {{ message }}
        {% endfor %}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
      </div>
    </div>
  </div>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var orderSuccessModal = new bootstrap.Modal(document.getElementById('orderSuccessModal'));
    orderSuccessModal.show();
  });
</script>
{% endif %}

{% endblock %}